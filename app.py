import streamlit as st# Import Streamlit library for building interactive web applications
import time

import pickle  # Import pickle library for loading trained models
import string  # Import string library for string operations
import nltk  # Import NLTK library for natural language processing tasks
from nltk.corpus import stopwords  # Import NLTK's stopwords for removing common words
from nltk.stem.porter import PorterStemmer  # Import PorterStemmer for word stemming

nltk.download('punkt')
nltk.download('stopwords')

# Initialize PorterStemmer for word stemming
ps = PorterStemmer()

# Set up the initial page configuration
st.set_page_config(
     page_title='Rana | Spam ✉️Message Classifier',
     initial_sidebar_state="expanded",
)

# Define background image CSS
page_bg_img = """
<style>
[data-testid = "stAppViewContainer"] {  

  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center center;
  background-repeat: repeat;
  background-image: url("data:image/svg+xml;utf8,%3Csvg viewBox=%220 0 2000 1400%22 xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cmask id=%22b%22 x=%220%22 y=%220%22 width=%222000%22 height=%221400%22%3E%3Cpath fill=%22url(%23a)%22 d=%22M0 0h2000v1400H0z%22%2F%3E%3C%2Fmask%3E%3Cpath fill=%22%23fff%22 d=%22M0 0h2000v1400H0z%22%2F%3E%3Cg style=%22transform-origin:center center%22 stroke=%22%23ddd%22 stroke-width=%222%22 mask=%22url(%23b)%22%3E%3Cpath fill=%22none%22 d=%22m0 0 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd7b%22 d=%22m94.62 13.298 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m189.24 26.596 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m283.86 39.894 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd7c%22 d=%22M378.48 53.192 473.1 66.49l-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd97%22 d=%22m567.72 79.788 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd01%22 d=%22m662.34 93.086 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddd1%22 d=%22m756.96 106.384 94.621 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m851.581 119.682 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m946.201 132.98 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1040.821 146.278 94.62 13.298-13.298 94.62-94.62-13.298zM1135.441 159.576l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1230.061 172.874 94.62 13.298-13.297 94.62-94.62-13.298zM1324.682 186.172l94.62 13.298-13.298 94.62-94.62-13.298zM1513.922 212.768l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1608.542 226.066 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd06%22 d=%22m1797.782 252.662 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1987.022 279.258 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd8b%22 d=%22m-13.298 94.62 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddee%22 d=%22m81.322 107.918 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m175.942 121.216 94.62 13.298-13.298 94.62-94.62-13.298zM365.182 147.812l94.62 13.298-13.297 94.62-94.62-13.298zM459.803 161.11l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m554.423 174.408 94.62 13.298-13.298 94.62-94.62-13.298zM649.043 187.706l94.62 13.298-13.298 94.62-94.62-13.298zM743.663 201.004l94.62 13.298-13.298 94.62-94.62-13.298zM838.283 214.302l94.62 13.298-13.298 94.62-94.62-13.298zM932.903 227.6l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1027.523 240.898 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd75%22 d=%22m1122.143 254.196 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1216.763 267.494 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd91%22 d=%22m1311.384 280.792 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd19%22 d=%22m1500.624 307.388 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd39%22 d=%22m1595.244 320.686 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1689.864 333.984 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1784.484 347.282 94.62 13.298-13.298 94.62-94.62-13.298zM1973.724 373.878l94.62 13.298-13.297 94.62-94.62-13.298zM-26.596 189.24l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd5a%22 d=%22m68.024 202.538 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd9a%22 d=%22m162.644 215.836 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m257.264 229.134 94.62 13.298-13.298 94.62-94.62-13.298zM446.505 255.73l94.62 13.298-13.298 94.62-94.62-13.298zM541.125 269.028l94.62 13.298-13.298 94.62-94.62-13.298zM635.745 282.326l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddaa%22 d=%22m730.365 295.624 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m824.985 308.922 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddb0%22 d=%22m919.605 322.22 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1014.225 335.518 94.62 13.298-13.298 94.62-94.62-13.298zM1108.845 348.816l94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd57%22 d=%22m1298.086 375.412 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1392.706 388.71 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1487.326 402.008 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1581.946 415.306 94.62 13.298-13.298 94.62-94.62-13.298zM1676.566 428.604l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1771.186 441.902 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1865.806 455.2 94.62 13.298-13.298 94.62-94.62-13.298zM-39.894 283.86l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m54.726 297.158 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd91%22 d=%22m338.586 337.052 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m433.207 350.35 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd04%22 d=%22m527.827 363.648 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddb0%22 d=%22m622.447 376.946 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m717.067 390.244 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m811.687 403.542 94.62 13.298-13.298 94.62-94.62-13.298zM1000.927 430.138l94.62 13.298-13.298 94.62-94.62-13.298zM1095.547 443.436l94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddf3%22 d=%22m1284.788 470.032 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd39%22 d=%22m1379.408 483.33 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddab%22 d=%22m1568.648 509.926 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddde%22 d=%22m1663.268 523.224 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1757.888 536.522 94.62 13.298-13.298 94.62-94.62-13.298zM1852.508 549.82l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1947.128 563.118 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddfb%22 d=%22m-53.192 378.48 94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m41.428 391.778 94.62 13.298-13.298 94.62L28.13 486.4z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddc7%22 d=%22m136.048 405.076 94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd97%22 d=%22m230.668 418.374 94.62 13.298-13.297 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m325.288 431.672 94.62 13.298-13.297 94.62-94.62-13.297zM609.149 471.566l94.62 13.298-13.298 94.62-94.62-13.298zM798.39 498.162l94.62 13.298-13.299 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m893.01 511.46 94.62 13.298-13.299 94.62-94.62-13.298zM987.63 524.758l94.62 13.298-13.299 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddbc%22 d=%22m1082.25 538.056 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd8d%22 d=%22m1176.87 551.354 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddc7%22 d=%22m1271.49 564.652 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1366.11 577.95 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd21%22 d=%22m1649.97 617.844 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd69%22 d=%22m1839.21 644.44 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddfb%22 d=%22m1933.83 657.738 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22M-66.49 473.1 28.13 486.4l-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m28.13 486.399 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m122.75 499.697 94.62 13.298-13.298 94.62-94.62-13.298zM217.37 512.995l94.62 13.298-13.297 94.62-94.62-13.298zM311.99 526.293l94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m406.61 539.59 94.62 13.299-13.297 94.62-94.62-13.298zM501.23 552.889l94.62 13.297-13.297 94.62-94.62-13.297zM595.85 566.186l94.621 13.298-13.298 94.62-94.62-13.297zM690.471 579.484l94.62 13.298-13.298 94.62-94.62-13.297zM785.091 592.782l94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd55%22 d=%22m879.711 606.08 94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1068.951 632.676 94.62 13.298-13.297 94.62-94.62-13.297zM1163.572 645.974l94.62 13.298-13.298 94.62-94.62-13.297zM1258.192 659.272l94.62 13.298-13.298 94.62-94.62-13.297zM1352.812 672.57l94.62 13.298-13.298 94.62-94.62-13.297zM1447.432 685.868l94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1542.052 699.166 94.62 13.298-13.298 94.62-94.62-13.297zM1636.672 712.464l94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1731.292 725.762 94.62 13.298-13.298 94.62-94.62-13.298zM1825.912 739.06l94.62 13.298-13.298 94.62-94.62-13.298zM-79.788 567.72l94.62 13.299-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd57%22 d=%22m109.452 594.317 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m204.072 607.615 94.62 13.298-13.297 94.62-94.62-13.298zM298.693 620.913l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddde1%22 d=%22m393.313 634.21 94.62 13.299-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd68%22 d=%22m771.793 687.403 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22M866.413 700.7 961.033 714l-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m961.033 713.999 94.62 13.298-13.298 94.62-94.62-13.298zM1055.653 727.297l94.62 13.298-13.297 94.62-94.62-13.298zM1244.894 753.893l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1339.514 767.19 94.62 13.299-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddbc%22 d=%22m1434.134 780.489 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1528.754 793.787 94.62 13.298-13.298 94.62-94.62-13.298zM1623.374 807.085l94.62 13.297-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1717.994 820.382 94.62 13.298-13.298 94.62-94.62-13.297zM1812.614 833.68l94.62 13.298-13.298 94.62-94.62-13.297zM1907.234 846.978l94.62 13.298-13.297 94.62-94.62-13.297zM-93.086 662.34l94.62 13.299-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1.534 675.639 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m96.154 688.937 94.62 13.298-13.298 94.62-94.62-13.298zM285.395 715.533l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd1c%22 d=%22m380.015 728.83 94.62 13.299-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m569.255 755.427 94.62 13.298-13.298 94.62-94.62-13.298zM663.875 768.725l94.62 13.298-13.298 94.62-94.62-13.298zM758.495 782.023l94.62 13.298-13.298 94.62-94.62-13.298zM947.735 808.619l94.62 13.298-13.298 94.62-94.62-13.298zM1042.355 821.917l94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddde3%22 d=%22m1136.976 835.215 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1231.596 848.513 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddde9%22 d=%22m1326.216 861.81 94.62 13.299-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1420.836 875.109 94.62 13.298-13.298 94.62-94.62-13.298zM1610.076 901.705l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1704.696 915.003 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd2b%22 d=%22m82.856 783.557 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m177.476 796.855 94.62 13.298-13.297 94.62-94.62-13.298zM272.097 810.153l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m366.717 823.45 94.62 13.299-13.298 94.62-94.62-13.298zM461.337 836.749l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd56%22 d=%22m650.577 863.345 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m745.197 876.643 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m839.817 889.94 94.62 13.299-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd69%22 d=%22m934.437 903.239 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd28%22 d=%22m1029.057 916.537 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1218.298 943.133 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1312.918 956.43 94.62 13.299-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1407.538 969.729 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddee%22 d=%22m1502.158 983.027 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1596.778 996.325 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1691.398 1009.623 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1786.018 1022.92 94.62 13.299-13.298 94.62-94.62-13.298zM1880.638 1036.219l94.62 13.298-13.297 94.62-94.62-13.298zM-119.682 851.581l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m-25.062 864.879 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m69.558 878.177 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddce%22 d=%22m164.178 891.475 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m258.799 904.773 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddde%22 d=%22m353.419 918.071 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m448.039 931.369 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd18%22 d=%22m542.659 944.667 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m731.9 971.263 94.62 13.298-13.299 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m826.52 984.56 94.62 13.299-13.299 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd8c%22 d=%22m921.14 997.859 94.62 13.298-13.299 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1299.62 1051.05 94.62 13.299-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd68%22 d=%22m1394.24 1064.349 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1488.86 1077.647 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1583.48 1090.945 94.62 13.298-13.298 94.62-94.62-13.298zM1772.72 1117.54l94.62 13.299-13.298 94.62-94.62-13.298zM-38.36 959.5l94.62 13.297-13.298 94.62-94.62-13.298zM56.26 972.797l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddb6%22 d=%22m150.88 986.095 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m529.36 1039.287 94.621 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddcd%22 d=%22m623.981 1052.585 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m718.601 1065.883 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd07%22 d=%22m813.221 1079.181 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m907.841 1092.479 94.62 13.298-13.298 94.62-94.62-13.298zM1002.461 1105.777l94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1097.082 1119.075 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd68%22 d=%22m1286.322 1145.671 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1475.562 1172.267 94.62 13.298-13.298 94.62-94.62-13.298zM1759.422 1212.16l94.62 13.299-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1854.042 1225.459 94.62 13.298-13.297 94.62-94.62-13.298zM-51.658 1054.12l94.62 13.297-13.298 94.62-94.62-13.298zM42.962 1067.417l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddc2%22 d=%22m137.582 1080.715 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m232.203 1094.013 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m326.823 1107.311 94.62 13.298-13.298 94.62-94.62-13.298zM421.443 1120.61l94.62 13.297-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m516.063 1133.907 94.62 13.298-13.298 94.62-94.62-13.298zM799.923 1173.801l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd44%22 d=%22m894.543 1187.1 94.62 13.297-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd68%22 d=%22m989.163 1200.397 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1083.784 1213.695 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd06%22 d=%22m1273.024 1240.291 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1367.644 1253.59 94.62 13.297-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1462.264 1266.887 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1556.884 1280.185 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddda2%22 d=%22m1651.504 1293.483 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1746.124 1306.781 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1840.745 1320.079 94.62 13.298-13.298 94.62-94.62-13.298zM218.905 1188.633l94.62 13.298-13.298 94.62-94.62-13.298zM313.525 1201.931l94.62 13.298-13.298 94.62-94.62-13.298zM502.765 1228.527l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd0d%22 d=%22m597.385 1241.825 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m692.005 1255.123 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddf6%22 d=%22m786.625 1268.421 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd7a%22 d=%22m975.865 1295.017 94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1070.486 1308.315 94.62 13.298-13.298 94.62-94.62-13.298zM1259.726 1334.911l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1354.346 1348.21 94.62 13.297-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd17%22 d=%22m1448.966 1361.507 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd8e%22 d=%22m1543.586 1374.805 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1732.826 1401.401 94.62 13.298-13.297 94.62-94.62-13.298zM1827.447 1414.7l94.62 13.297-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddc8%22 d=%22m-172.874 1230.061 94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd8d%22 d=%22m-78.254 1243.36 94.62 13.297-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd5a%22 d=%22m16.366 1256.657 94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m205.607 1283.253 94.62 13.298-13.298 94.62-94.62-13.297zM394.847 1309.85l94.62 13.297-13.298 94.62-94.62-13.297zM489.467 1323.147l94.62 13.298-13.298 94.62-94.62-13.297zM584.087 1336.445l94.62 13.298-13.298 94.62-94.62-13.297zM678.707 1349.743l94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m773.327 1363.041 94.62 13.298-13.298 94.62-94.62-13.298zM867.947 1376.34l94.62 13.297-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23ddddddf4%22 d=%22m962.568 1389.637 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddddc%22 d=%22m1057.188 1402.935 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1151.808 1416.233 94.62 13.298-13.298 94.62-94.62-13.298zM1246.428 1429.531l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1341.048 1442.83 94.62 13.297-13.298 94.62-94.62-13.298zM1719.528 1496.021l94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1814.149 1509.32 94.62 13.297-13.298 94.62-94.62-13.298zM97.688 1364.576l94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd4b%22 d=%22m192.309 1377.874 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd18%22 d=%22m286.929 1391.172 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m381.549 1404.47 94.62 13.298-13.298 94.62-94.62-13.298zM476.169 1417.768l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd25%22 d=%22m570.79 1431.066 94.62 13.298-13.299 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m665.41 1444.364 94.62 13.297-13.299 94.62-94.62-13.297zM760.03 1457.661l94.62 13.298-13.299 94.62-94.62-13.297zM854.65 1470.96l94.62 13.297-13.298 94.62-94.62-13.297zM1043.89 1497.555l94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1138.51 1510.853 94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd35%22 d=%22m1233.13 1524.151 94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1327.75 1537.45 94.62 13.297-13.298 94.62-94.62-13.297zM1422.37 1550.747l94.62 13.298-13.298 94.62-94.62-13.297zM1516.99 1564.045l94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd54%22 d=%22m1611.61 1577.343 94.62 13.298-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1706.23 1590.641 94.62 13.298-13.297 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1800.85 1603.94 94.62 13.297-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd1c%22 d=%22m-199.47 1419.302 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m-104.85 1432.6 94.62 13.298-13.298 94.62-94.62-13.298zM84.39 1459.196l94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m179.01 1472.494 94.62 13.298-13.297 94.62-94.62-13.298zM273.63 1485.792l94.62 13.298-13.297 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd7d%22 d=%22m368.25 1499.09 94.621 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd7c%22 d=%22m462.871 1512.388 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m557.491 1525.686 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd30%22 d=%22m652.111 1538.984 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd99%22 d=%22m746.731 1552.282 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m841.351 1565.58 94.62 13.298-13.297 94.62-94.62-13.298zM935.972 1578.878l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1030.592 1592.176 94.62 13.298-13.298 94.62-94.62-13.298zM1314.452 1632.07l94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd3a%22 d=%22m1409.072 1645.368 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22none%22 d=%22m1598.312 1671.964 94.62 13.298-13.298 94.62-94.62-13.298z%22 stroke-width=%222.1%22%2F%3E%3Cpath fill=%22%23dddddd66%22 d=%22m1787.553 1698.56 94.62 13.297-13.298 94.62-94.62-13.297z%22 stroke-width=%222.1%22%2F%3E%3C%2Fg%3E%3Cdefs%3E%3CradialGradient id=%22a%22%3E%3Cstop offset=%2250%25%22 stop-color=%22%23fff%22 stop-opacity=%220%22%2F%3E%3Cstop offset=%221%22 stop-color=%22%23fff%22 stop-opacity=%22.5%22%2F%3E%3C%2FradialGradient%3E%3C%2Fdefs%3E%3C%2Fsvg%3E");

}
</style>
"""
# Apply the background image
st.markdown(page_bg_img, unsafe_allow_html=True)

# Define a function to preprocess the input text
def transform_text(text):
    text = text.lower()  # Convert text to lowercase
    text = nltk.word_tokenize(text)  # Tokenize the text into words

    y = []
    for i in text:
        if i.isalnum():
            y.append(i)

    text = y[:]
    y.clear()

    for i in text:
        if i not in stopwords.words('english') and i not in string.punctuation:
            y.append(i)

    text = y[:]
    y.clear()

    for i in text:
        y.append(ps.stem(i))

    return " ".join(y)

# Load the TF-IDF vectorizer and trained model
tfidf = pickle.load(open('vectorizer (1).pkl', 'rb'))
model = pickle.load(open('model.pkl', 'rb'))

# Display a welcome toast only when the webpage is reloaded
if 'welcome_toast' not in st.session_state:
    st.session_state['welcome_toast'] = True
    st.toast('WELCOME!', icon='🙏')

# Display the title
st.markdown("<h1 style='text-align: center; '>Spam ✉️Message Classifier</h1>", unsafe_allow_html=True)

# Introduction part
st.write("Let's predict Spam Messages. Put the message in the box and Click 'PREDICT' ")

# Add a text area for user input
input_sms = st.text_area(" ", "", help="This is a text area", placeholder="Type your text here...")

# Predict button and progress bar
if st.button("PREDICT"):
    # Preprocess the input text
    transformed_sms = transform_text(input_sms)
    # Vectorize the preprocessed text
    vector_input = tfidf.transform([transformed_sms])
    # Predict the class label
    result = model.predict(vector_input)[0]

    progress_text = "Operation in progress. Please wait."
    my_bar = st.progress(0, text=progress_text)
    for percent_complete in range(100):
        time.sleep(0.01)
        my_bar.progress(percent_complete + 1, text=progress_text)
    time.sleep(1)
    my_bar.empty()
    # Add code here to perform prediction or any action when the button is clicked
    # st.write("Prediction has been made!")

    #st.header(result)

    # Display the prediction result
    if result == 1:
        # Warning message for spam message
        st.warning("Spam Alert! 🚫⚠️ This message has been classified as spam")
    else:
        # Success message for non-spam message
        st.success("✅The Message isn't a SPAM\n\n👍")

    # Disclaimer
    st.toast('Please note that while our ML model aims for accuracy, '
             'predictions regarding whether a message is spam or not may occasionally be incorrect. '
             'We continuously refine our system, but we advise exercising caution and using your discretion. '
             'We sincerely appreciate your understanding.', icon='ℹ️')


